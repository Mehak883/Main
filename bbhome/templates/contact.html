{%extends 'main.html'%}
{%load static%}
{%block title%}
BB-Contact
{%endblock%}
{%block signup%}
<style>
    .bld4{
      /* font-weight: bold !important; */
     text-decoration: underline !important;
    } 
    body {
        background: linear-gradient(90deg, #d3c0f1 0%, #d2c0ee 30%, #cfbbf0 30%, #d4b8e0 100%);
    }

    .contactUs {
        position: relative;
        width: 100%;
        padding: 40px 100px;
    }

    .contactUs .title {
        display: flex;
        justify-content: center;
        align-items: center;
        font-size: 2em;
    }

    .contactUs .title h2 {
        color: darkblue;
        font-weight: 600;
    }

    .form {
        grid-area: form;
    }

    .info {
        grid-area: info
    }

    .map {
        grid-area: map;
    }

    .contact {
        padding: 20px;
        background-color: rgb(255, 255, 255);
        box-shadow: 0 5px 35px rgba(0, 0, 0, 0.35);
        border-radius: 10px;
    }

    .box {
        position: relative;
        display: grid;
        grid-template-columns: 2fr 1fr;
        grid-template-rows: 5fr 4fr;
        grid-template-areas: "form info" "form map";
        grid-gap: 15px;
        margin-top: 15px;
    }

    .contact h3 {
        color: #0e3959;
        font-weight: 500;
        font-size: 1.4em;
        margin-bottom: 10px;
    }

    .formBox {
        position: relative;
        width: 100%;
    }

    .formBox .row50 {
        display: flex;
        gap: 15px;
    }

    .inputBox {
        display: flex;
        flex-direction: column;
        margin-bottom: 10px;
        width: 50%;
    }

    .formBox .row100 .inputBox {
        width: 100%;
    }

    .inputBox span {
        color: black;
        margin-top: 5px;
        margin-bottom: 5px;
        font-weight: 500;
    }

    .inputBox input {
        padding: 7px;
        font-size: 1.1em;
        outline: none;
        border: 1px solid #333;
    }

    .inputBox textarea {
        padding: 7px;
        font-size: 1.1em;
        outline: none;
        border: 1px solid #333;
        resize: none;
        min-height: 220px;
        margin-bottom: 7px;
    }

    .inputBox input[type='submit'] {
        background: rgb(42, 28, 104);
        color: #fff;
        border: none;
        font-size: 1.1em;
        max-width: 80px;
        font-weight: 600;
        cursor: pointer;
        /* padding: 10px 12px; */
    }

    .inputBox ::placeholder {
        color: #999;
    }

    .info {
        background-color: rgb(42, 28, 104);
    }

    .info h3 {
        color: #fff;
    }

    .info .infoBox div {
        display: flex;
        align-items: center;
        margin-bottom: 10px;
    }

    .info .infoBox div span {
        max-width: 40px;
        height: 40px;
        color: rgb(237, 200, 249);
        /* background: #c49bff; */
        display: flex;
        align-items: center;
        font-size: 1.5em;
        border-radius: 30%;
        margin-right: 15px;
    }

    .info .infoBox div p {
        color: #fff;
        font-size: 1.1em;
    }

    .info .infoBox div a {
        color: #fff;
        text-decoration: none;
        font-size: 1.1em;
    }

    .sci {
        margin-top: 20px;
        display: flex;
    }

    .sci li {
        list-style: none;
        margin-right: 15px;
    }

    .sci li a:hover {
       height: 45px;
       width: 45px;
    }
    .map{
        padding: 0;
    }
    .map iframe{
        width: 100%;
        height: 100%;
    }
@media (max-width:991px) {
    body{
        background: #03a9f5;
    }
    .contactUs{
        padding: 20px;
    }
    .box{
        grid-template-columns: 1fr;
        grid-template-rows: auto;
        grid-template-areas: "form" "info" "map";
    }
    .map{

        min-height: 300px;
    }
    .formBox .row50{
        display: flex;
        gap:0;
        flex-direction: column;
    }
    .inputBox{
        /* display: flex;
        flex-direction: column;
        margin-bottom: 10px; */
        width: 100%;
    }
    .contact{
        padding: 30px;
    }
    .map{
        min-height: 300px;
        padding: 0px;
    }
}

</style>
<div class="flex-shrink-0  ml-3">
    <a href="{%url 'profile'%}" class="d-block link-body-emphasis text-decoration-none " aria-expanded="false">
        <img src="{{myprofile.user_profile_image.url}}" alt="profile" width="32" height="32" class="rounded-circle">
    </a>
</div>
<div class="ml-3">
    <a href="{% url 'logout' %}"><svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="white"
            class="bi bi-box-arrow-in-right" viewBox="0 0 16 16">
            <path fill-rule="evenodd"
                d="M6 3.5a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-8a.5.5 0 0 1-.5-.5v-2a.5.5 0 0 0-1 0v2A1.5 1.5 0 0 0 6.5 14h8a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2h-8A1.5 1.5 0 0 0 5 3.5v2a.5.5 0 0 0 1 0v-2z" />
            <path fill-rule="evenodd"
                d="M11.854 8.354a.5.5 0 0 0 0-.708l-3-3a.5.5 0 1 0-.708.708L10.293 7.5H1.5a.5.5 0 0 0 0 1h8.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3z" />
        </svg></a>
</div>
{%endblock%}
{%block crousel%}
<div class="contactUs">
    <div class="title" style="background-color: white;border-radius: 10px;">
        <h2 style="color: darkblue;">Get in Touch</h2>
    </div>
    <div class="box">
        <div class="contact form">
            <div id="contact-msg" style="color: black;"></div>
            <h2 style="color: darkblue;">Send a Message</h2>
            <form action="{%url 'contact'%}" method="post" id="contact_form">
                <div class="formBox">
                    <div class="row50">
                        <div class="inputBox">
                            <span>First Name</span>
                            <input type="text" name="cfname" id="cfname" placeholder="John">
                        </div>
                        <div class="inputBox">
                            <span>Last Name</span>
                            <input type="text" name="clname" id="clname" placeholder="Doe">
                        </div> 
                    </div>
                    <div class="row50">
                        <div class="inputBox">
                            <span>Email</span>
                            <input type="text" name="cemail" id="cemail" placeholder="johndoe@email.com">
                        </div>
                        <div class="inputBox">
                            <span>Mobile</span>
                            <input type="text" name="cmobile" id="cmobile" placeholder="1234567890">
                        </div>
                    </div>
                    <div class="row100">
                        <div class="inputBox">
                            <span>Message</span>
                            <textarea name="problem" id="problem" placeholder="Write your message here..."></textarea>
                        </div>
                    </div>
                    <div class="row100">
                        <div class="inputBox">
                            <input type="submit" value="Send">
                        </div>
                    </div>
                </div>
            </form>
        </div>
        <div class="contact info">
            <h3>Contact Info</h3>
            <div class="infoBox">
                <div><span><ion-icon name="location"></ion-icon></span>
                    <p>Jandiala Guru, Amritsar <Br>INDIA</p>
                </div>
                <div><span><ion-icon name="mail"></ion-icon></span>
                    <a href="mailto:dhawanmehak10@gmail.com">dhawanmehak10@gmail.com</a>
                </div>
                <div><span><ion-icon name="call"></ion-icon></span>
                    <a href="tel:+918264992952">+91 826 499 2952</a>
                </div>
                <ul class="sci">
                    <li><a href="#"><img width="40" height="40" src="https://img.icons8.com/color/40/facebook-circled--v1.png" alt="facebook-circled--v1"></a></li>
                    <li><a href="#"><img width="40" height="40" src="https://img.icons8.com/color/40/twitter-circled--v1.png" alt="twitter-circled--v1"></a></li>
                    <li><a href="#"><img width="38" height="38" src="https://img.icons8.com/color/38/instagram-new--v1.png" alt="instagram-new--v1"></a></li>
                    <li><a href="#"><img width="40" height="40" src="https://img.icons8.com/color/40/linkedin-circled--v1.png" alt="linkedin-circled--v1"></a></li>
                </ul>
            </div>
        </div>
        <div class="contact map">
            <iframe
                src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d27197.30079544292!2d75.00690196116203!3d31.560872998478068!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x391bd69cdd536563%3A0xa00bc64ad063b7c5!2sJandiala%20Guru%2C%20Punjab%20143115!5e0!3m2!1sen!2sin!4v1689966240467!5m2!1sen!2sin"
                 style="border:0;" allowfullscreen="" loading="lazy"
                referrerpolicy="no-referrer-when-downgrade">
            </iframe>
        </div>
    </div>
</div>
<script>

    $(document).ready(function () {
      $('#contact_form').on('submit', function (event) {
        event.preventDefault();
        console.log('Form submitted')
        var cfname = $('#cfname').val();
        var clname = $('#clname').val();
        var cemail = $('#cemail').val();
        var cmobile = $('#cmobile').val();
        var problem = $('#problem').val();

        $.ajax({
          type: 'POST',
          url: '{% url "contact" %}',
          data: {
            'cfname': cfname,
            'clname': clname,
            'cemail': cemail,
            'cmobile':cmobile,
            'problem': problem,
            csrfmiddlewaretoken: '{{ csrf_token }}'
          },
          dataType: 'json',
          success: function (response) {
            if (response.contactmsg) {
              $('#contact-msg').html('<div class="alert alert-primary">' + response.contactmsg + '</div>');
              console.log('jlo')
            }
       else{
        console.log('hi')
       }
            // Optionally, you can redirect to another page after successful signup
            // window.location.href = '/success/';
          },
          error: function (xhr, errmsg, err) {
            // Handle errors if any
            console.log(xhr.status + ' : ' + xhr.responseText);
          }
        });[]
      });
    });
  </script>
<script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
<script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
{%endblock%}